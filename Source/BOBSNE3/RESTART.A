** Ultra Force Level/Game restart*** Put Bob in startup configuration*restartgame:	lda	#10	sta	startcolor	lda	#25	sta	endcolor	stz	colordir	stz	colorstrength	stz	colorval	stz	hotdata	stz	hotdir	stz	dmabox0	stz	dmabox1	stz	dmabox2	stz	scootxspeed	stz	scootyspeed	stz	geartimer		stz	bobtalks		stz	whichplatform		lda	#1	sta	sdmaflag	stz	sdmacount		stz	invensdma		stz	face	stz	doteleport	stz	remoteonhead	stz	cleanchange	stz	dribbleframe		stz	pausehold	stz	pointsgiven		stz	bobshield	stz	enemydie	stz	enemyblind		stz	zapcounter	stz	doorcounter	stz	doorcounter2		stz	bosstarget		stz virusbossflag		lda	#faceright	sta	walkdir		stz	turncount	stz	dpremflag		stz	shootflag	stz	punchflag		stz	deathcount	stz	deathtimer	stz	squished		stz bossflag1	stz bossflag2	stz bosscount1	stz bosscount2		lda	#MAXDECEL	;full stop	sta	decelcount	stz	decelflag	stz	accelflag	stz	accelcount		stz	accelflames		stz	jumpstyle	stz	jumptype	stz	hurtpal	stz	hurttype	stz	lookbelow	stz	islooking** configure weaponry*		ldy	#0			;clear active weapon counters	lda	#0@loop:	sta	activeweapons,y	sta	activeutility,y	sta	perremote,y	sta	activeremotes	iny	cpy	#6	bcc	@loop	sta	activeweapons,y	;scooter	iny	sta	activeweapons,y	;space** counters...*	stz	fidgetticks		;clear fidget counters	stz	fidgetcount	stz	nocrouch	** technology*	lda	#1	sta	walldir2	lda	#7	sta	wallcount2	stz	walldir1	stz	wallcount1			stz	walldelay1	stz	walldelay2		stz	elevatorcount	;or elevators	stz	turretcount		;or turrets	stz	itemcount		;or items	stz	itemready			stz	monitoroff		;  monitors	stz	monitoron	stz	cyclecount	stz	nocycle			stz	blastcount		stz	lockscreen	stz	startblowing		stz lifterflag		;screen lifter flag		stz fuckscreen		;hdma effect	stz bossready		;clear boss init flag	jsl paralaxfade		;init paralax fade values			lda	#60	sta	ticks	** control panel*	lda	#<controlstrip	sta	tmp	lda	#>controlstrip	sta	tmp+1		lda	#10	pha	plb			ldy	#0@clrloop:	lda	(tmp),y			sta	controlbar1,y	iny	lda (tmp),y				sta	controlbar1,y	iny	cpy	#128	bcc	@clrloop		lda	#0	pha	plb		** control panel stuff*	stz	shstrength	stz	shbossstrength	** general stuff*	stz	lockleft	stz	lockright	stz	locktop	stz	lockbottom	;	stz	HPos;	stz	HPos+1	stz	HPos2	stz	HPos2+1;	stz	Vpos;	stz	Vpos+1		lda	#2	stz	Vpos2		stz	Vpos2+1	stz	Hpos3	stz	Hpos3+1		stz	dancesteps	stz	dancedir		stz	mustmelt** parallax*	lda	#87	sta	cloudspeed	stz	cloudspeed+1	lda	#115	sta	cloudspeed2	stz	cloudspeed2+1	lda	#168	sta	cloudspeed3	stz	cloudspeed3+1		stz	doorknob	lda	#DOORBOTTOM		;door closed	sta	backdoor	stz	nomainscroll	stz	bosscount		stz	bubblecount		stz	gundir		stz	bobfloat		stz	borgweaponflag		stz	stoked		stz	teleportout	stz	aflashbob		stz	waitforwin		rtl		** clear the scores*clearscore:	lda	#224	sta	scorebuffer	sta	scorebuffer+2		sta	scorebuffer+4		sta	scorebuffer+6	sta	scorebuffer+8		sta	scorebuffer+10		sta	scorebuffer+12		sta	scorebuffer+14		lda	#$30	;BLUEL	sta	scorebuffer+1	sta	scorebuffer+3	sta	scorebuffer+5	sta	scorebuffer+7		sta	scorebuffer+9		sta	scorebuffer+11		sta	scorebuffer+13	sta	scorebuffer+15	rtl** game start stuff*startgamestuff:		lda	#maxstrength	sta	strength	sta	bossstrength	ldy	#0	lda	#50		;bullets	sta	weaponcount,y	iny	lda	#0			;splitters	sta	weaponcount,y	iny	lda	#0		;flames	sta	weaponcount,y	iny	lda	#0			;water	sta	weaponcount,y	iny	lda	#0			;energy	sta	weaponcount,y	iny	lda	#0			;missiles	sta	weaponcount,y	iny	lda	#99			;scooter bullets	sta	weaponcount,y	iny	lda	#99			;spaceship bullets	sta	weaponcount,y	ldy	#0			;0 remotes each	lda	#0@loop2:	sta	remotecount,y	iny	cpy	#6	bcc	@loop2	ldy	#3			;3 spring	lda	#3	sta	remotecount,y	rtl** start stoked!*startmaxgamestuff:		lda	#maxstrength	sta	strength	sta	bossstrength	ldy	#0	lda	#99			;bullets	sta	weaponcount,y	iny	lda	#99			;splitters	sta	weaponcount,y	iny	lda	#99		;flames	sta	weaponcount,y	iny	lda	#99				;water	sta	weaponcount,y	iny	lda	#99				;energy	sta	weaponcount,y	iny	lda	#99				;missiles	sta	weaponcount,y	iny	lda	#99			;scooter bullets	sta	weaponcount,y	iny	lda	#99			;spaceship bullets	sta	weaponcount,y	ldy	#0			;9 remotes each	lda	#9@loop2:	sta	remotecount,y	iny	cpy	#6	bcc	@loop2	rtldemopointer:	dc.b	0,1,25,0	;right	dc.b	0,8,120,0	;up into chamber	dc.b	0,4+1,12,0	;down	dc.b	0,1,60,0	;continue running	dc.b	0,#JoyY+1,1,0 ;right and fire	dc.b	0,1,8,0	;right	dc.b	0,#JoyY+1,1,0 ;right and fire	dc.b	0,1,8,0	;right	dc.b	0,#JoyY+1,1,0 ;right and fire	dc.b	0,1,90,0	;run	dc.b	0,0,25,0	;skid to stop	dc.b	#JoyA,1,1,0	;punch	dc.b	0,0,15,0		;pause	dc.b	0,2,15,0	;turn around	dc.b	0,4,2,0		;crouch	dc.b	0,2,80,0	;waddle left	dc.b	0,0,5,0		;pause	dc.b	0,8,2,0		;stand up	dc.b	0,0,16,0	;pause	dc.b	0,1,60,0	;turn around + run	dc.b	0,#JoyB+1,8,0		;jump	dc.b	0,1,101,0	;run	dc.b	0,#JoyB+1,30,0		;jump	dc.b	0,1,40,0	;run	dc.b	0,#JoyY+1,1,0 ;right and fire		dc.b	0,1,10,0		dc.b	#JoyX,1,1,0	;deploy spring remote	dc.b	0,1,30,0		;run off spring	dc.b	0,#JoyB+1,108,0	;jump for copter	dc.b	0,1,70,0		;run	dc.b	0,8,63,0		;climb up	dc.b	0,#JoyB+1,1,0	;jump off ladder	dc.b	0,1,53,0		;run right	dc.b	#JoyA,1,1,0		;punch at first mine	dc.b	0,1,42,0		;run down ladder	dc.b	#JoyA,1,1,0		;punch at second mine	dc.b	0,1,52,0		;run down ladder	dc.b	0,0,20,0		;boom!!	dc.b	0,2,1,0			;turn around while falling	dc.b	0,0,130,0		;wait to hit	dc.b	0,2,95,0		;run left	dc.b	0,#JoyB+2+8,15,0	;jump at hand-o-hand	dc.b	0,2,20,0		;shimmy left	dc.b	0,#JoyY+2,1,0	;fire on wire	dc.b	0,2,40,0		;run left	dc.b	0,#JoyY+2,1,0	;fire at borg	dc.b	0,2,156,0		;run left	dc.b	0,#JoyB+2,170,0	;jump+run 	dc.b	0,2,48,0		;run	dc.b	0,#JoyY+2,1,0	;shoot borg	dc.b	0,2,72,0		;run some more	dc.b	0,0,15,0		;drop	dc.b	#JoyX,1,1,0		;deploy copter remote	dc.b	0,0,5-4,0			;wait	dc.b	0,1,80,0		;copter right	dc.b	0,1+8,30,0		;copter up	dc.b	0,1,80,0		;run right	dc.b	0,#JoyB+1+8,20,0	;catch hand over hand	dc.b	0,1,40,0		;shimmy	dc.b	0,#JoyY+1,1,0	;fire at missile 	dc.b	0,1,30,0		;shimmy	dc.b	0,4,1,0			;drop off beam	dc.b	0,#JoyB+1,40,0	;jump over zapper	dc.b	0,1,238,0		;run like mad	dc.b	0,#JoyY+1,1,0	;fire at final borg	dc.b	0,1,75,0		;run by	dc.b	0,#JoyB+1,30,0	;jump over last step	dc.b	0,1,40,0		;run to end	demopointer2:	dc.b	0,1,200,0	;right	dc.b	0,#JoyB+1,30,0		;jump	dc.b	0,1,2,0	;run	dc.b	0,#JoyB+1,30,0		;jump	dc.b	0,1,20,0		;run		dc.b	0,#JoyB+1,40,0	;jump for copter	dc.b	0,1,220,0		;run	dc.b	0,2,100,0		;run	dc.b	0,1,120,0		;run	dc.b	0,1,220,0		;run	dc.b	0,4+1,12,0	;down	dc.b	0,2,200,0		;run	dc.b	0,2,200,0		;runwindgen29: dc.b $03 dc.b $2C,$00,$3C dc.b $1C,$44,$3D dc.b $44,$48,$2Cwindgen30: dc.b $03 dc.b $34,$00,$3C dc.b $24,$44,$3D dc.b $04,$48,$2Cwindgen31: dc.b $03 dc.b $2C,$44,$3C dc.b $0C,$48,$2C dc.b $44,$00,$2Cwindgen32: dc.b $03 dc.b $34,$44,$3C dc.b $04,$00,$2C dc.b $14,$48,$2Cwindgen33: dc.b $03 dc.b $1C,$48,$3D dc.b $44,$44,$2C dc.b $0C,$00,$2Cwindgen34: dc.b $03 dc.b $24,$48,$3D dc.b $04,$44,$2C dc.b $14,$00,$2Cwindgen35: dc.b $03 dc.b $2C,$48,$3C dc.b $1C,$00,$3D dc.b $0C,$44,$2Cwindgen36: dc.b $03 dc.b $34,$48,$3C dc.b $24,$00,$3D dc.b $14,$44,$2Cwindgen37: dc.b $03 dc.b $44,$2C,$3C dc.b $00,$0C,$2C dc.b $48,$44,$2Cwindgen38: dc.b $03 dc.b $44,$34,$3C dc.b $48,$04,$2C dc.b $00,$14,$2Cwindgen39: dc.b $03 dc.b $41,$1C,$3D dc.b $48,$0C,$2C dc.b $44,$44,$2Cwindgen40: dc.b $03 dc.b $41,$24,$3D dc.b $44,$04,$2C dc.b $48,$14,$2Cwindgen41: dc.b $03 dc.b $00,$2C,$3C dc.b $49,$1C,$3D dc.b $44,$0C,$2Cwindgen42: dc.b $03 dc.b $00,$34,$3C dc.b $49,$24,$3D dc.b $44,$14,$2Cwindgen43: dc.b $03 dc.b $48,$2C,$3C dc.b $45,$1C,$3D dc.b $00,$44,$2Cwindgen44: dc.b $03 dc.b $48,$34,$3C dc.b $45,$24,$3D dc.b $00,$04,$2C** zero sys registers*RegisterClear	PROC;PPU Registers	lda	#$00	sta	OBJSEL	sta	OAMADDL	sta	BGMODE	sta	MOSAIC	sta	BG1SC	sta	BG2SC	sta	BG3SC	sta	BG4SC	sta	BG12NBA	sta	BG34NBA	sta	BG1HOFS	sta	BG1HOFS	sta	BG1VOFS	sta	BG1VOFS	sta	BG2HOFS	sta	BG2HOFS	sta	BG2VOFS	sta	BG2VOFS	sta	BG3HOFS	sta	BG3HOFS	sta	BG3VOFS	sta	BG3VOFS	sta	BG4HOFS	sta	BG4HOFS	sta	BG4VOFS	sta	BG4VOFS	lda	#$80	sta	VMAINC	lda	#$00	sta	VMADDL	sta	VMADDH	sta	M7SEL	sta	M7A	lda	#$01	sta	M7A	lda	#$00	sta	M7B	sta	M7B	sta	M7C	sta	M7C	sta	M7D	lda	#$01	sta	M7D	lda	#$00	sta	M7X	sta	M7X	sta	M7Y	sta	M7Y	sta	CGADD	sta	W12SEL	sta	W34SEL	sta	WOBJSEL	sta	WH0	sta	WH1	sta	WH2	sta	WH3	sta	WBGLOG	sta	WOBJLOG	sta	TM	sta	TS	sta	TMW	sta	TSW	lda	#$30	sta	CGSWSEL	lda	#0	sta	CGADSUB	lda	#0	sta	COLDATA	lda	#0	sta	SETINI;CPU Registers	sta	NMITIMEN	lda	#$FF	sta	WRIO	lda	#$00	sta	WRMPYA	sta	WRMPYB	sta	WRDIVL	sta	WRDIVH	sta	WRDIVB	sta	HTIMEL	sta	HTIMEH	sta	VTIMEL	sta	VTIMEH	sta	MDMAEN	sta	HDMAEN		lda	#1	sta	MEMSEL	rtl